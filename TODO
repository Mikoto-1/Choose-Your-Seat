# 电影院选座系统 - 待办事项

## 🐛 BUG修复

### 1. 初始显示问题 ✅ 已修复
- **问题**: 初始时点进去是全绿，没法正常显示座位占用情况
- **状态**: ✅ 已修复 (2025-06-26)
- **解决方案**: 调整初始化函数执行顺序，确保在`addMockSoldSeats()`之后再调用`drawCinema()`
- **修复详情**: 
  - 原问题：`drawCinema()`在座位数据生成前执行
  - 解决：先初始化座位→生成模拟数据→最后绘制Canvas
  - 现在启动时能正确显示约31%的座位占用情况

### 2. 300座位显示问题 ✅ 已修复
- **问题**: 300座时没法完全显示
- **状态**: ✅ 已修复 (2025-06-26)
- **解决方案**: 实现动态Canvas尺寸调整和响应式显示
- **修复详情**: 
  - 添加`updateCanvasSize()`函数，根据座位数量动态计算Canvas尺寸
  - 修复`handleSeatClick()`中的坐标缩放计算
  - 添加CSS滚动支持和响应式布局
  - 现在支持100/200/300座位完整显示

## 🎨 UI/UX优化

### 3. 座位状态视觉区分
- **问题**: 现在自己的预订和已购和他人的预订、已购没有区别，可能需要做出UI的区分
- **状态**: ❌ 待优化
- **优先级**: 中
- **建议方案**:
  - 用户自己的预订座位：橙色边框 + 标记
  - 用户自己的购票座位：红色边框 + 标记
  - 他人占用座位：纯色填充
  - 添加图例说明不同状态

### 4. 年龄限制实时UI反馈
- **问题**: 现在的"不可选座位"UI实际上没用，只有点击选座时会弹出提示不可选。需要加上功能：输入年龄后，UI自动更新，显示出不可选的座位
- **状态**: ❌ 待实现
- **优先级**: 中
- **功能描述**:
  - 用户输入年龄后，立即更新座位显示
  - 不可选座位变为灰色
  - 实时响应年龄输入变化
  - 团体票需要综合考虑所有成员年龄限制

## 🔐 功能扩展

### 5. 用户登录系统
- **问题**: 可能需要加上登录功能，即账户与购票信息的绑定，而非目前的随机生成购票信息
- **状态**: ❌ 待开发
- **优先级**: 低
- **功能需求**:
  - 简单的用户注册/登录界面
  - 用户信息存储（localStorage）
  - 购票记录与用户账户绑定
  - 登录状态管理
  - 用户购票历史查询

## 📋 开发计划

### 近期目标 (本周)
1. ✅ ~~修复初始座位显示问题~~ (已完成)
2. ✅ ~~修复300座位显示问题~~ (已完成)
3. 实现年龄限制实时UI反馈

### 中期目标 (下周)
1. 优化座位状态视觉区分
2. 实现年龄限制实时UI反馈
3. 添加用户登录功能

### 长期目标
1. 数据持久化（后端集成）
2. 多影院支持
3. 座位类型区分（VIP/普通）
4. 移动端适配优化

## 📝 注意事项

- 所有UI变更需要保持现有的美观设计风格
- 确保新功能不影响现有功能的正常使用
- 考虑用户体验，避免过于复杂的操作流程
- 保持代码的可维护性和可扩展性

---

**更新时间**: 2025年6月26日
**版本**: v1.1-dev：初始时点进去是全绿，没法正常显示座位占用情况。
2.bug：300座时没法完全显示。
3.优化：现在自己的预订和已购和他人的预订、已购没有区别，可能需要做出UI的区分。
4.优化：现在的“不可选座位”UI实际上没用，只有点击选座时会弹出提示不可选。需要加上功能：输入年龄后，UI自动更新，显示出不可选的座位。
5.功能：可能需要加上登录功能，即账户与购票信息的绑定，而非目前的随机生成购票信息。